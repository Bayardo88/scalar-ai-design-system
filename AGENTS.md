# AGENTS.md

## Cursor Cloud specific instructions

This is `@scalar/design-system`, a token-driven React component library (no backend/services). All dev workflows are npm scripts â€” see `package.json` for the full list.

### Key commands

| Task | Command |
|---|---|
| Install deps | `npm install` |
| Build | `npm run build` |
| Test | `npm test` |
| Lint | `ESLINT_USE_FLAT_CONFIG=false npm run lint` |
| Validate schemas | `npm run validate:schema` |
| Validate tokens | `npm run validate:tokens` |

### Non-obvious caveats

- **ESLint config format**: The project uses `.eslintrc.cjs` (legacy format) with ESLint v9. You **must** set `ESLINT_USE_FLAT_CONFIG=false` when running lint, otherwise ESLint will error looking for `eslint.config.js`.
- **Build must run before import verification**: The `dist/` directory is generated by `npm run build` (tsup). Token CSS generation (`scripts/generate-tokens-css.js`) runs automatically as part of the build script.
- **Pre-existing lint/validation errors**: The codebase currently has 5 pre-existing ESLint errors (3 `no-explicit-any` in `Button.tsx`, 1 unused var in `SidebarIcon.tsx`, 1 raw px in `Table.tsx`) and a token validation failure (`4px` in `Button.tsx`). These are not caused by environment issues.
- **Husky pre-commit hook**: Runs `validate:schema`, `validate:tokens`, and `lint` before each commit. Due to the pre-existing errors, commits will fail the hook. Use `git commit --no-verify` if needed for environment setup commits.
